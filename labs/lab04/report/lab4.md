---
## Front matter
title: "Отчёт по лабораторной работе №4"
subtitle: "Дисциплина: Операционные системы"
author: "Шошина Евгения Александровна, группа: НКАбд-03-22"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Приобретение практических навыков взаимодействия пользователя с системой посредством командной строки.

# Задание

1. Определите полное имя вашего домашнего каталога. Далее относительно этого каталога будут выполняться последующие упражнения.
2. Выполните следующие действия:
- 2.1. Перейдите в каталог /tmp.
- 2.2. Выведите на экран содержимое каталога /tmp. Для этого используйте команду ls
с различными опциями. Поясните разницу в выводимой на экран информации.
- 2.3. Определите, есть ли в каталоге /var/spool подкаталог с именем cron?
- 2.4. Перейдите в Ваш домашний каталог и выведите на экран его содержимое. Определите, кто является владельцем файлов и подкаталогов?
3. Выполните следующие действия:
- 3.1. В домашнем каталоге создайте новый каталог с именем newdir.
- 3.2. В каталоге ~/newdir создайте новый каталог с именем morefun.
- 3.3. В домашнем каталоге создайте одной командой три новых каталога с именами
letters, memos, misk. Затем удалите эти каталоги одной командой.
- 3.4. Попробуйте удалить ранее созданный каталог ~/newdir командой rm. Проверьте, был ли каталог удалён.
- 3.5. Удалите каталог ~/newdir/morefun из домашнего каталога. Проверьте, был ли каталог удалён.
4. С помощью команды man определите, какую опцию команды ls нужно использовать для просмотра содержимое не только указанного каталога, но и подкаталогов,
входящих в него.
5. С помощью команды man определите набор опций команды ls, позволяющий отсортировать по времени последнего изменения выводимый список содержимого каталога
с развёрнутым описанием файлов.
6. Используйте команду man для просмотра описания следующих команд: cd, pwd, mkdir,
rmdir, rm. Поясните основные опции этих команд.
7. Используя информацию, полученную при помощи команды history, выполните модификацию и исполнение нескольких команд из буфера команд.

# Теоретическое введение
В операционной системе типа Linux взаимодействие пользователя с системой обычно осуществляется с помощью командной строки посредством построчного ввода команд. При этом обычно используется командные интерпретаторы языка shell: /bin/sh; /bin/csh; /bin/ksh.
Формат команды. Командой в операционной системе называется записанный по специальным правилам текст (возможно с аргументами), представляющий собой указание на выполнение какой-либо функций (или действий) в операционной системе.
Обычно первым словом идёт имя команды, остальной текст — аргументы или опции, конкретизирующие действие.
Общий формат команд можно представить следующим образом:
<имя_команды><разделитель><аргументы>
Команда man. Команда man используется для просмотра (оперативная помощь) в диалоговом режиме руководства (manual) по основным командам операционной системы типа Linux.
Формат команды: man <команда>
Пример (вывод информации о команде man): man man

Для управления просмотром результата выполнения команды man можно использовать
следующие клавиши:
- Space — перемещение по документу на одну страницу вперёд;
- Enter — перемещение по документу на одну строку вперёд;
- q — выход из режима просмотра описания.

Команда cd. 
Команда cd используется для перемещения по файловой системе опера-
ционной системы типа Linux.

Замечание 1. Файловая система ОС типа Linux — иерархическая система каталогов,
подкаталогов и файлов, которые обычно организованы и сгруппированы по функ-
циональному признаку. Самый верхний каталог в иерархии называется корневым
и обозначается символом /. Корневой каталог содержит системные файлы и другие
каталоги.
Формат команды: cd [путь_к_каталогу]

Для перехода в домашний каталог пользователя следует использовать команду cd без параметров или cd ~.
Например, команда cd /afs/dk.sci.pfu.edu.ru/home
позволяет перейти в каталог /afs/dk.sci.pfu.edu.ru/home (если такой существует),
а для того, чтобы подняться выше на одну директорию, следует использовать:
- cd ..
Подробнее об опциях команды cd смотри в справке с помощью команды man:
- man cd

Команда pwd. 
Для определения абсолютного пути к текущему каталогу используется команда pwd (print working directory).
Пример (абсолютное имя текущего каталога пользователя dharma): pwd
результат:
- /afs/dk.sci.pfu.edu.ru/home/d/h/dharma

Сокращения имён файлов. 
В работе с командами, в качестве аргументов которых выступает путь к какому-либо каталогу или файлу, можно использовать сокращённую запись пути. Символы сокращения приведены в табл. 4.1.

Символы сокращения имён файлов
Символ        Значение
  ~       Домашний каталог
  .       Текущий каталог
  ..      Родительский каталог
 
Например, в команде cd для перемещения по файловой системе сокращённую запись пути можно использовать следующим образом (команды чередуются с выводом результата выполнения команды pwd):
1 pwd
2
3 /afs/dk.sci.pfu.edu.ru/home/d/h/dharma
4
5 cd ..
6 pwd
7
8 /afs/dk.sci.pfu.edu.ru/home/d/h
9
10 cd ../..
11 pwd
12
13 /afs/dk.sci.pfu.edu.ru/home
14
15 cd ~/work
16 pwd
17
18 /afs/dk.sci.pfu.edu.ru/home/d/h/dharma/work

Команда ls. 
Команда ls используется для просмотра содержимого каталога.
Формат команды: ls [-опции] [путь]
Пример:
1 cd
2 cd ..
3 pwd
4
5 /afs/dk.sci.pfu.edu.ru/home/d/h
6
7 ls
8
9 dharma

Некоторые файлы в операционной системе скрыты от просмотра и обычно используются для настройки рабочей среды. Имена таких файлов начинаются с точки. Для того, чтобы отобразить имена скрытых файлов, необходимо использовать команду ls с опцией a:
1 ls -a

Можно также получить информацию о типах файлов (каталог, исполняемый файл, ссылка), для чего используется опция F. При использовании этой опции в поле имени выводится символ, который определяет тип файла (см. табл. 4.2)
Символ, который определяет тип файла
    Тип файла      Символ
Каталог              /
Исполняемый файл     *
Ссылка               @

Чтобы вывести на экран подробную информацию о файлах и каталогах, необходимо использовать опцию l. При этом о каждом файле и каталоге будет выведена следующая информация:
- тип файла,
- право доступа,
- число ссылок,
- владелец,
- размер,
- дата последней ревизии,
- имя файла или каталога.

Пример:
1 cd /
2 ls
Результат:
1 bin boot dev etc home lib media mnt
2 opt proc root sbin sys tmp usr var

В этом же каталоге команда
1 ls -alF
даст примерно следующий результат:
1 drwxr-xr-x 21 root root 4096 Jan. 17 09:00 ./
2 drwxr-xr-x 21 root root 4096 Jan. 17 09:00 ../
3 drwxr-xr-x 2 root root 4096 Jan. 18 15:57 bin/
4 drwxr-xr-x 2 root root 4096 Apr. 14 2008 boot/
5 drwxr-xr-x 20 root root 14120 Feb. 17 10:48 dev/
6 drwxr-xr-x 170 root root 12288 Feb. 17 09:19 etc/
7 drwxr-xr-x 6 root root 4096 Aug. 5 2009 home/
8 lrwxrwxrwx 1 root root 5 Jan. 12 22:01 lib -> lib64/
9 drwxr-xr-x 8 root root 4096 Jan. 30 21:41 media/
10 drwxr-xr-x 5 root root 4096 Jan. 17 2010 mnt/
11 drwxr-xr-x 25 root root 4096 Jan. 16 09:55 opt/
12 dr-xr-xr-x 163 root root 0 Feb. 17 13:17 proc/
13 drwxr-xr-x 31 root root 4096 Feb. 15 23:57 root/
14 drwxr-xr-x 2 root root 12288 Jan. 18 15:57 sbin/
15 drwxr-xr-x 12 root root 0 Feb. 17 13:17 sys/
16 drwxrwxrwt 12 root root 500 Feb. 17 16:35 tmp/
17 drwxr-xr-x 22 root root 4096 Jan. 18 09:26 usr/
18 drwxr-xr-x 17 root root 4096 Jan. 14 17:38 var/

Команда mkdir. 
Команда mkdir используется для создания каталогов.
Формат команды: mkdir имя_каталога1 [имя_каталога2...]
Пример создания каталога в текущем каталоге:
1 cd
2 pwd
3
4 /afs/dk.sci.pfu.edu.ru/home/d/h/dharma
5
6 ls
7
8 Desktop public tmp
9 GNUstep public_html work
10
11 mkdir abc
12 ls
13
14 abc GNUstep public_html work
15 Desktop public tmp

Замечание 2. Для того чтобы создать каталог в определённом месте файловой системы,
должны быть правильно установлены права доступа.

Можно создать также подкаталог в существующем подкаталоге:
1 mkdir parentdir
2 mkdir parentdir/dir
При задании нескольких аргументов создаётся несколько каталогов:
1 cd parentdir
2 mkdir dir1 dir2 dir3
Можно использовать группировку:
1 mkdir parentdir/{dir1,dir2,dir3}

Если же требуется создать подкаталог в каталоге, отличном от текущего, то путь к нему
требуется указать в явном виде:
mkdir ../dir1/dir2
или
mkdir ~/dir1/dir2

Интересны следующие опции:
--mode (или -m) — установка атрибутов доступа;
--parents (или -p) — создание каталога вместе с родительскими по отношению к нему
каталогами.
Атрибуты задаются в численной или символьной нотации:
mkdir --mode=777 dir
или
mkdir -m a+rwx dir

Опция --parents (краткая форма -p) позволяет создавать иерархическую цепочку подкаталогов, создавая все промежуточные каталоги:
mkdir -p ~/dir1/dir2/dir3

Команда rm. 
Команда rm используется для удаления файлов и/или каталогов.
Формат команды: rm [-опции] [файл]
Если требуется, чтобы выдавался запрос подтверждения на удаление файла, то необхо-
димо использовать опцию i.
Чтобы удалить каталог, содержащий файлы, нужно использовать опцию r. Без указания
этой опции команда не будет выполняться.
Пример:
1 cd
2 mkdir abs
3 rm abc
rm: abc is a directory
6
7 rm -r abc

Если каталог пуст, то можно воспользоваться командой rmdir. 
Если удаляемый
каталог содержит файлы, то команда не будет выполнена — нужно использовать rm -r имя_каталога.

Команда history. 
Для вывода на экран списка ранее выполненных команд используется команда history. Выводимые на экран команды в списке нумеруются. К любой команде из выведенного на экран списка можно обратиться по её номеру в списке, воспользовавшись конструкцией !<номер_команды>.
Пример:
1 history
2 1 pwd
3 2 ls
4 3 ls -a
5 4 ls -l
6 5 cd /
7 6 history
8
9 !5
10 cd /

Можно модифицировать команду из выведенного на экран списка при помощи следующей конструкции:
!<номер_команды>:s/<что_меняем>/<на_что_меняем>
Пример:
1 !3:s/a/F
2 ls -F

Замечание 3. Если в заданном контексте встречаются специальные символы (типа «.»,
«/», «*» и т.д.), надо перед ними поставить символ экранирования \ (обратный слэш).

Использование символа «;». 
Если требуется выполнить последовательно несколько команд, записанный в одной строке, то для этого используется символ точка с запятой
Пример:
1 cd; ls

# Выполнение лабораторной работы
1. Определите полное имя вашего домашнего каталога. Далее относительно этого каталога будут выполняться последующие упражнения.

2. Выполните следующие действия:
- 2.1. Перейдите в каталог /tmp.
- 2.2. Выведите на экран содержимое каталога /tmp. Для этого используйте команду ls
с различными опциями. Поясните разницу в выводимой на экран информации.

![Полное имя домашнего каталога. Содержимое каталога tmp](image/1.4.png)

![Полное имя домашнего каталога. Содержимое каталога tmp](image/2.4.png)

- 2.3. Определите, есть ли в каталоге /var/spool подкаталог с именем cron?

- 2.4. Перейдите в Ваш домашний каталог и выведите на экран его содержимое. Определите, кто является владельцем файлов и подкаталогов?

![Содержимое домашнего каталога. Определение владельца файлов и подкаталогов](image/3.4.png)

3. Выполните следующие действия:
- 3.1. В домашнем каталоге создайте новый каталог с именем newdir.

![Создание нового каталога с именем newdir](image/4.4.png)

- 3.2. В каталоге ~/newdir создайте новый каталог с именем morefun.
- 3.3. В домашнем каталоге создайте одной командой три новых каталога с именами
letters, memos, misk. Затем удалите эти каталоги одной командой.
- 3.4. Попробуйте удалить ранее созданный каталог ~/newdir командой rm. Проверьте, был ли каталог удалён.

![Создание и удаление каталогов newdir, letters, memos, misk](image/5.4.png)

- 3.5. Удалите каталог ~/newdir/morefun из домашнего каталога. Проверьте, был ли каталог удалён.

![Удаление каталога ~/newdir/morefun из домашнего каталога](image/6.4.png)

4. С помощью команды man определите, какую опцию команды ls 

![Определение опция ls с помощью команды man](image/7.4.png)

нужно использовать для просмотра содержимое не только указанного каталога, но и подкаталогов, входящих в него.

![Опция, ls, позволяющая отсортировать по времени последнего изменения выводимый список содержимого каталога](image/8.4.png)

5. С помощью команды man определите набор опций команды ls, позволяющий отсортировать по времени последнего изменения выводимый список содержимого каталога с развёрнутым описанием файлов.

![Опция, позволяющая отсортировать по времени изменения](image/9.4.png)

6. Используйте команду man для просмотра описания следующих команд: cd, pwd, mkdir,
rmdir, rm. Поясните основные опции этих команд.


![Просмотр описания команды man cd](image/10.4.png)

![Просмотр описания команды man pwd](image/11.4.png)

![Просмотр описания команды man mkdir](image/12.4.png)

![Просмотр описания команды man rmdir](image/13.4.png)

![Просмотр описания команды man rm](image/14.4.png)

7. Используя информацию, полученную при помощи команды history, выполните модификацию и исполнение нескольких команд из буфера команд.

![Использование команды history](image/15.4.png)


# Выводы
Приобрели практические навыки взаимодействия пользователя с системой посредством командной строки.

# Контрольные вопросы
1. Что такое командная строка?
- Командная строка - текстовый интерфейс, который позволяет вводить команды, выполнять их и просматривать результаты. Запуск терминала в в графическом сеансе графического рабочего стола - это самый простой способ получения доступа к командной строке.
2. При помощи какой команды можно определить абсолютный путь текущего каталога?
- При помощи команды pwd можно определить абсолютный путь текущего каталога.
- Пример: абсолютное имя текущего каталога пользователя dharma (pwd) - /afs/dk.sci.pfu.edu.ru/home/d/h/dharma 
3. При помощи какой команды и каких опций можно определить только тип файлов
и их имена в текущем каталоге? 
Чтобы получить информацию о типах файлов (каталог, исполняемый файл,ссылка), используется опция F. При использовании этой опции в поле имени выводится символ, который определяет тип файла.
Тип файла         Символ
Каталог              /
Исполняемый файл     *
Ссылка               @
4. Каким образом отобразить информацию о скрытых файлах? Приведите примеры.
Некоторые файлы в операционной системе скрыты от просмотра и обычно используются для настройки рабочей среды. Имена таких файлов начинаются с точки. Для того, чтобы отобразить имена скрытых файлов, необходимо использовать команду ls с опцией a: ls -a
5. При помощи каких команд можно удалить файл и каталог? Можно ли это сделать одной и той же командой? Приведите примеры.
Команда rm используется для удаления файлов и/или каталогов.
Формат команды: rm [-опции] [файл]
Если требуется, чтобы выдавался запрос подтверждения на удаление файла, то необходимо использовать опцию i.
Чтобы удалить каталог, содержащий файлы, нужно использовать опцию r. Без указания этой опции команда не будет выполняться.
Пример:
1 cd
2 mkdir abs
3 rm abc
4
5 rm: abc is a directory
6
7 rm -r abc
Если каталог пуст, то можно воспользоваться командой rmdir. Если удаляемый каталог содержит файлы, то команда не будет выполнена - нужно использовать rm -r имя_каталога.
6. Каким образом можно вывести информацию о последних выполненных пользователем командах? работы?
Для вывода на экран списка ранее выполненных команд используется команда history. Выводимые на экран команды в списке нумеруются. К любой команде из выведенного на экран списка можно обратиться по её номеру в списке, воспользовавшись конструкцией !<номер_команды>.
Пример:
1 history
2 1 pwd
3 2 ls
4 3 ls -a
5 4 ls -l
6 5 cd /
7 6 history
8
9 !5
10 cd /
7. Как воспользоваться историей команд для их модифицированного выполнения? Приведите примеры.
Можно модифицировать команду из выведенного на экран списка при помощи следующей конструкции: 
!<номер_команды>:s/<что_меняем> <на_что_меняем>
Пример:
!3:s/a/F
ls -F
8. Приведите примеры запуска нескольких команд в одной строке.
Если требуется выполнить последовательно несколько команд, записанный в одной строке, то для этого используется символ точка с запятой
Пример: cd; ls
9. Дайте определение и приведите примера символов экранирования.
Экранирование символов - процедура добавления данного символа перед управляющими символами.
Символ обратного слэша( \ ) позволяет использовать управляющие символы без их интерпретации командной оболочкой.
Если в заданном контексте встречаются специальные символы (типа «.», «/», «*» и т.д.), надо перед ними поставить символ экранирования \ (обратный слэш).
10. Охарактеризуйте вывод информации на экран после выполнения команды ls с опцией l.
Длинный список из всех папок.
11. Что такое относительный путь к файлу? Приведите примеры использования относи-
тельного и абсолютного пути при выполнении какой-либо команды.
12. Как получить информацию об интересующей вас команде?
13. Какая клавиша или комбинация клавиш служит для автоматического дополнения
вводимых команд?


